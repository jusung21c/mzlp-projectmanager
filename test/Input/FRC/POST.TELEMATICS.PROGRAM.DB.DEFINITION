JINIE Post.TelematicsMain ()

	! CHECK MULTI-MODAL INTERRUPT
	CALL Common.CheckInterrupt () ;
	
	IF $N.STATUS.PROCESS = @N_PROCESS_RULE & $N.STATUS.PROGRAM = @N_FLAG_ON THEN
		BEGIN
			! CONTROL PROCESS & PROGRAM
			CALL Common.ControlPost () ;
			
			! SET REFERENCE DB & REFERENCE KEY
			S.INTENT.VALUE := $S.STT.RESULT.INTENTION[1][1] ; ! INTENTION SAVED
			S.SLOT.FIRST.TAG := $S.STT.RESULT.SLOT[1][1] ; ! SLOT1 TAG SAVED
			S.SLOT.SECOND.TAG := $S.STT.RESULT.SLOT[1][4] ; ! SLOT2 TAG SAVED
			S.SLOT.THIRD.TAG := $S.STT.RESULT.SLOT[1][7] ; ! SLOT3 TAG SAVED
			
			N.REF.DB := @N_REFERENCE_INFO ;
			N.REF.ID := 11 ;
			S.REF.KEY := S.INTENT.VALUE + S.SLOT.FIRST.TAG + S.SLOT.SECOND.TAG + S.SLOT.THIRD.TAG ;
			
			CALL Common.ReferenceKey (N.REF.DB, N.REF.ID, S.REF.KEY) ;
		END
		
	IF $N.STATUS.PROCESS = @N_PROCESS_RESULT & $N.STATUS.PROGRAM = @N_FLAG_ON THEN
		BEGIN
			! ART
			CALL Common.ARTIntentionSetting () ;
			
			! GET 1-Best Result From Reference DB
			CALL Common.ReferenceOneBestResult () ;
			
			! SET ACTION-VALUE
			CALL Common.SetActionValue () ;

			! SET RULE-TAG
			CALL Common.SetPreRuleTag () ;

			! SYSTEM CALL
			N.CID ~= S.RESULT.FIX.CID ;
			CALL Common.SystemCallPost (N.CID) ;
			
			IF S.RESULT.FIX.CID = "\@N_TAG_ESERVICES_GUIDE_ID" | S.RESULT.FIX.CID = "\@N_TAG_EV_SERVICES_GUIDE_ID" THEN
				BEGIN
					CALL LpProc.eServicesGuide () ;
				END
				
			IF S.RESULT.FIX.CID = "\@N_TAG_ROADSIDE_ASSIST_ID" THEN
				BEGIN
					CALL LpProc.RoadsideAssist () ;
				END
				
			IF S.RESULT.FIX.CID = "\@N_TAG_VEHICLE_DIAGNOSTICS_ID" THEN
				BEGIN
					CALL LpProc.VehicleDignostics () ;
				END
				
			IF S.RESULT.FIX.CID = "\@N_TAG_CARPLAY_ID" THEN
				BEGIN
					CALL LpProc.Carplay () ;
				END
				
			IF S.RESULT.FIX.CID = "\@N_TAG_ANDROID_AUTO_ID" THEN
				BEGIN
					CALL LpProc.AndroidAuto () ;
				END
				
			IF S.RESULT.FIX.CID = "\@N_TAG_LOCAL_SEARCH_ID" THEN
				BEGIN
					CALL LpProc.LocalSearch () ;
				END
				
			IF S.RESULT.FIX.CID = "\@N_TAG_MY_POIS_ID" THEN
				BEGIN
					CALL LpProc.MyPois () ;
				END
				
			! REPEAT CONTROL
			CALL Common.RepeatControl () ;
			
			! FEEDBACK PROMPT CONTROL
			CALL Common.FeedbackPromptControl () ;
			
			! ON SCREEN TEXT
			CALL Common.FeedbackOnScreenText () ;
		END
		
	IF $N.STATUS.PROCESS = @N_PROCESS_TRANSITION & $N.STATUS.PROGRAM = @N_FLAG_ON THEN
		BEGIN
			! VR 종료 후, MAINMENU Dialog 진입 시 정상 Prompt 출력을 위하여 초기화
			IF $N.TRANSITION.DIALOG = @N_DIALOG_STOP | $N.TRANSITION.DIALOG = @N_DIALOG_EXIT THEN
				BEGIN
					S.RESULT.FIX.CID := "" ;
				END
		END
EOP

JINIE LpProc.eServicesGuide ()

	IF N.BT.DEVICE.PAIRED = 200000 | N.BT.DEVICE.CONNECT = 200000 | N.BT.PHONE.CONNECT = 200000 | N.SYSTEM.DRIVING = 200000 THEN
		BEGIN
			CALL Common.FeedbackBasicSetting () ;
		END
	ELSE
		BEGIN
			IF N.BT.DEVICE.CONNECT = 1 & N.BT.PHONE.CONNECT = 1 THEN
				BEGIN
					IF N.VENDER.UVO.EV.SERVICES.HELP = 0 THEN
						BEGIN
							S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K6_1_1_02" ;
							S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S6_1_1_02" ;
							S.INNER.PROMPT.DISPLY.STR := "" ;
							N.EXIT.ACTION.TRANSITION := 31002 ;
							$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
							$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
						END
					ELSE ! UVO EV
						BEGIN
							S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K6_1_1_05" ;
							S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S6_1_1_05" ;
							S.INNER.PROMPT.DISPLY.STR := "" ;
							N.EXIT.ACTION.TRANSITION := 31004 ;
							$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
							$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
						END
				END
			ELSE ! N.BT.DEVICE.CONNECT = 0 | N.BT.PHONE.CONNECT = 0
				BEGIN
					IF N.BT.DEVICE.CONNECT = 2 | N.BT.DEVICE.PAIRED = 2 THEN ! 2: connecting / 2:pairing
						BEGIN
							S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K2_1_0_15" ;
							S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S2_1_0_15" ;
							S.INNER.PROMPT.DISPLY.STR := "\@S_SCREEN_PROMPT_LID_2_1_08" ;
							$N.TRANSITION.DIALOG := @N_DIALOG_NO_RECOG_EXIT ;
						END
					ELSE
						BEGIN
							IF N.SYSTEM.DRIVING = 0 | N.BT.DEVICE.PAIRED = 1 THEN ! stop | paired (0-0,0-1,1-1,2-1)
								BEGIN
									S.INNER.SCREEN.STRING := "\@S_SCREEN_DEVICE_CONNECT_SELECT" ;
									S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K2_1_0_01" ;
									S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S2_1_0_01" ;
									S.INNER.PROMPT.DISPLY.STR := "\@S_SCREEN_PROMPT_LID_2_1_0_01" ;
									$N.TRANSITION.DIALOG := @N_DIALOG_MAINMENU_SELECT ;
								END
							ELSE ! 1-0, 2-0
								BEGIN
									S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K2_1_0_10" ;
									S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S2_1_0_10" ;
									S.INNER.PROMPT.DISPLY.STR := "\@S_SCREEN_PROMPT_LID_2_1_0_02" ;
									$N.TRANSITION.DIALOG := @N_DIALOG_NO_RECOG_EXIT ;
								END
						END
				END
		END
EOP

JINIE LpProc.RoadsideAssist ()

	IF N.BT.DEVICE.PAIRED = 200000 | N.BT.DEVICE.CONNECT = 200000 | N.BT.PHONE.CONNECT = 200000 | N.SYSTEM.DRIVING = 200000 THEN
		BEGIN
			CALL Common.FeedbackBasicSetting () ;
		END
	ELSE
		BEGIN
			IF N.VENDER.UVO.EV.SERVICES.HELP = 0 THEN
				BEGIN
					IF N.BT.DEVICE.CONNECT = 1 & N.BT.PHONE.CONNECT = 1 THEN
						BEGIN
							S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K6_1_1_03" ;
							S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S6_1_1_03" ;
							S.INNER.PROMPT.DISPLY.STR := "" ;
							N.EXIT.ACTION.TRANSITION := 31001 ;
							$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
							$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
						END
					ELSE ! N.BT.DEVICE.CONNECT = 0 | N.BT.PHONE.CONNECT = 0
						BEGIN
							IF N.BT.DEVICE.CONNECT = 2 | N.BT.DEVICE.PAIRED = 2 THEN ! 2: connecting / 2:pairing
								BEGIN
									S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K2_1_0_15" ;
									S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S2_1_0_15" ;
									S.INNER.PROMPT.DISPLY.STR := "\@S_SCREEN_PROMPT_LID_2_1_08" ;
									$N.TRANSITION.DIALOG := @N_DIALOG_NO_RECOG_EXIT ;
								END
							ELSE
								BEGIN
									IF N.SYSTEM.DRIVING = 0 | N.BT.DEVICE.PAIRED = 1 THEN ! stop | paired (0-0,0-1,1-1,2-1)
										BEGIN
											S.INNER.SCREEN.STRING := "\@S_SCREEN_DEVICE_CONNECT_SELECT" ;
											S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K2_1_0_01" ;
											S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S2_1_0_01" ;
											S.INNER.PROMPT.DISPLY.STR := "\@S_SCREEN_PROMPT_LID_2_1_0_01" ;
											$N.TRANSITION.DIALOG := @N_DIALOG_MAINMENU_SELECT ;
										END
									ELSE ! 1-0, 2-0
										BEGIN
											S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K2_1_0_10" ;
											S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S2_1_0_10" ;
											S.INNER.PROMPT.DISPLY.STR := "\@S_SCREEN_PROMPT_LID_2_1_0_02" ;
											$N.TRANSITION.DIALOG := @N_DIALOG_NO_RECOG_EXIT ;
										END
								END
						END
				END
			ELSE ! UVO EV
				BEGIN
					IF N.TELEMATICS.UVO.ACTIVATE = 1 THEN
						BEGIN
							S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K6_1_1_03" ;
							S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S6_1_1_03" ;
							S.INNER.PROMPT.DISPLY.STR := "" ;
							N.EXIT.ACTION.TRANSITION := 31001 ;
							$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
							$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
						END
					ELSE
						BEGIN
							S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K6_1_2_05" ;
							S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S6_1_2_05" ;
							S.INNER.PROMPT.DISPLY.STR := "\@S_SCREEN_PROMPT_LID_6_1_2_03" ;
							$N.TRANSITION.DIALOG := @N_DIALOG_NO_RECOG_EXIT ;
						END
				END
		END
EOP

JINIE LpProc.VehicleDignostics ()

	IF N.TELEMATICS.UVO.DIAGNOSTIC = 200000 | N.TELEMATICS.UVO.ACTIVATE = 200000 | N.SYSTEM.DRIVING = 200000 THEN
		BEGIN
			CALL Common.FeedbackBasicSetting () ;
		END
	ELSE
		BEGIN
			IF N.TELEMATICS.UVO.DIAGNOSTIC = 1 THEN ! on
				BEGIN
					IF N.TELEMATICS.UVO.ACTIVATE = 1 THEN ! activated
						BEGIN
							IF N.SYSTEM.DRIVING = 2 THEN
								BEGIN
									S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K6_1_2_03" ;
									S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S6_1_2_03" ;
									S.INNER.PROMPT.DISPLY.STR := "\@S_SCREEN_PROMPT_LID_6_1_3_01" ;
									$N.TRANSITION.DIALOG := @N_DIALOG_NO_RECOG_EXIT ;
								END
							ELSE ! driving | stop (1 OR 0)
								BEGIN
									S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K6_1_2_04" ;
									S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S6_1_2_04" ;
									S.INNER.PROMPT.DISPLY.STR := "" ;
									N.EXIT.ACTION.TRANSITION := 31003 ;
									$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
									$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
								END
						END
					ELSE
						BEGIN
							S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K6_1_2_01" ;
							S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S6_1_2_01" ;
							S.INNER.PROMPT.DISPLY.STR := "\@S_SCREEN_PROMPT_LID_6_1_2_01" ;
							$N.TRANSITION.DIALOG := @N_DIALOG_NO_RECOG_EXIT ;
						END
				END
			ELSE
				BEGIN
					S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K6_1_2_02" ;
					S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S6_1_2_02" ;
					S.INNER.PROMPT.DISPLY.STR := "\@S_SCREEN_PROMPT_LID_6_1_2_02" ;
					$N.TRANSITION.DIALOG := @N_DIALOG_NO_RECOG_EXIT ;
				END
		END
EOP

JINIE LpProc.Carplay ()

	S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K7_1_1_01" ;
	S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S7_1_1_01" ;
	S.INNER.PROMPT.DISPLY.STR := "\@S_SCREEN_PROMPT_LID_7_1_1_01" ;
	$N.TRANSITION.DIALOG := @N_DIALOG_NO_RECOG_EXIT ;
EOP

JINIE LpProc.AndroidAuto ()

	S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K7_1_1_02" ;
	S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S7_1_1_02" ;
	S.INNER.PROMPT.DISPLY.STR := "\@S_SCREEN_PROMPT_LID_7_1_1_02" ;
	$N.TRANSITION.DIALOG := @N_DIALOG_NO_RECOG_EXIT ;
EOP

JINIE LpProc.LocalSearch ()

	S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K6_1_0_01" ;
	S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S6_1_0_01" ; 
	S.INNER.PROMPT.DISPLY.STR := "\@S_SCREEN_PROMPT_LID_GS1_2_1_01" ;
	$N.TRANSITION.DIALOG := @N_DIALOG_NO_RECOG_EXIT ;
EOP

JINIE LpProc.MyPois ()
			
	IF N.NAVI.SDCARD.EXIST = 200000 | N.TELEMATICS.UVO.ACTIVATE = 200000 THEN
		BEGIN
			CALL Common.FeedbackBasicSetting () ;
		END
	ELSE
		BEGIN
			IF N.NAVI.SDCARD.EXIST = 0 THEN
				BEGIN
					S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K1_7_0_02" ;
					S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S1_7_0_02" ; 
					S.INNER.PROMPT.DISPLY.STR := "\@S_SCREEN_PROMPT_LID_1_7_0_06" ;
					$N.TRANSITION.DIALOG := @N_DIALOG_NO_RECOG_EXIT ;
				END
			ELSE ! N.NAVI.SDCARD.EXIST = 1
				BEGIN
					IF N.TELEMATICS.UVO.ACTIVATE = 0 THEN
						BEGIN
							S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K6_1_2_01" ;
							S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S6_1_2_01" ;
							S.INNER.PROMPT.DISPLY.STR := "\@S_SCREEN_PROMPT_LID_6_1_2_01" ;
							$N.TRANSITION.DIALOG := @N_DIALOG_NO_RECOG_EXIT ;
						END
					ELSE ! N.TELEMATICS.UVO.ACTIVATE = 1
						BEGIN
							S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K6_1_3_01" ;
							S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S6_1_3_01" ;
							S.INNER.PROMPT.DISPLY.STR := "" ;
							N.EXIT.ACTION.TRANSITION := 31005 ;
							$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
							$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
						END
				END
		END
EOP
