JINIE Post.RadioMain ()

	! CHECK MULTI-MODAL INTERRUPT
	CALL Common.CheckInterrupt () ;
	
	IF ( $N.STATUS.PROCESS = @N_PROCESS_RULE & $N.STATUS.PROGRAM = @N_FLAG_ON & $N.INTERRUPT.TYPE = 0 ) |
		( $N.STATUS.PROCESS = @N_PROCESS_RULE & $N.STATUS.PROGRAM = @N_FLAG_ON & $N.INTERRUPT.TYPE = 4 ) THEN
		BEGIN
			! CONTROL PROCESS & PROGRAM
			CALL Common.ControlPost () ;
			
			! SET REFERENCE DB & REFERENCE KEY
			S.INTENT.VALUE := $S.STT.RESULT.INTENTION[1][1] ; ! INTENTION SAVED
			S.SLOT.FIRST.TAG := $S.STT.RESULT.SLOT[1][1] ; ! SLOT1 TAG SAVED
			S.SLOT.SECOND.TAG := $S.STT.RESULT.SLOT[1][4] ; ! SLOT2 TAG SAVED
			S.SLOT.THIRD.TAG := $S.STT.RESULT.SLOT[1][7] ; ! SLOT3 TAG SAVED
			
			N.REF.DB := @N_REFERENCE_INFO ;
			N.REF.ID := 11 ;
			S.REF.KEY := S.INTENT.VALUE + S.SLOT.FIRST.TAG + S.SLOT.SECOND.TAG + S.SLOT.THIRD.TAG ;
			
			IF $S.RULE.LEXEMES[1][2] = "\@N_LEXEME_RADIO_STATION" THEN ! 방송국명
				BEGIN
					N.REF.DB := @N_REFERENCE_BROADCAST ;
					N.REF.ID := 2 ;
					S.REF.KEY := $S.STT.RESULT.SLOT[1][2] ;
				END
				
			CALL Common.ReferenceKey (N.REF.DB, N.REF.ID, S.REF.KEY) ;
		END
		
	IF ( $N.STATUS.PROCESS = @N_PROCESS_RESULT & $N.STATUS.PROGRAM = @N_FLAG_ON & $N.INTERRUPT.TYPE = 0 ) |
		( $N.STATUS.PROCESS = @N_PROCESS_RESULT & $N.STATUS.PROGRAM = @N_FLAG_ON & $N.INTERRUPT.TYPE = 4 ) THEN
		BEGIN
			! ART
			CALL Common.ARTIntentionSetting () ;
			
			! GET 1-Best Result From Reference DB
			IF $S.RULE.LEXEMES[1][2] = "\@N_LEXEME_RADIO_STATION" THEN
				BEGIN
					CALL Common.ReferenceOneBestResultRadio () ;
					S.INNER.RADIOSTATION.INFO := S.ACTION.STRING ; ! 인식된 방송국명 정보 저장
				END
			ELSE
				BEGIN
					IF $S.RULE.LEXEMES[1][2] = "\@N_LEXEME_FM" & $S.STT.RESULT.SLOT[1][1] = "<SLOT_FM_FREQ>" | 
					 $S.RULE.LEXEMES[1][2] = "\@N_LEXEME_AM" & $S.STT.RESULT.SLOT[1][1] = "<SLOT_AM_FREQ>" THEN
						BEGIN
							CALL LpProc.FrequencySlot () ;
						END
					
					CALL Common.ReferenceOneBestResult () ;
					
					IF S.RESULT.FIX.CID = "\@N_TAG_FM_LIST_ID" | S.RESULT.FIX.CID = "\@N_TAG_AM_LIST_ID" THEN
						BEGIN
							S.ACTION.STRING := S.INNER.RADIOSTATION.INFO ; ! 인식된 방송국명 정보 전달
						END
				END
				
			! SET ACTION-VALUE
			CALL Common.SetActionValue () ;
			
			! SET RULE-TAG
			CALL Common.SetPreRuleTag () ;
			
			! SYSTEM CALL
			N.CID ~= S.RESULT.FIX.CID ;
			CALL Common.SystemCallPost (N.CID) ;
			
			! CALL LP PROCEDURE
			IF S.RESULT.FIX.CID = "\@N_TAG_RADIO_ID" THEN
				BEGIN
					CALL LpProc.Radio () ;
				END
				
			IF S.RESULT.FIX.CID = "\@N_TAG_FM_ID" THEN
				BEGIN
					CALL LpProc.Fm () ;
				END
				
			IF S.RESULT.FIX.CID = "\@N_TAG_FM_FREQUENCY_ID" | S.RESULT.FIX.CID = "\@N_TAG_FM_FREQ_SLOT_ID" THEN
				BEGIN
					CALL LpProc.FmFrequency () ;
				END
				
			IF S.RESULT.FIX.CID = "\@N_TAG_FM_LIST_ID" THEN
				BEGIN
					CALL LpProc.FmList () ;
				END
				
			IF S.RESULT.FIX.CID = "\@N_TAG_FM_NUMBER1_ID" THEN ! FM1
				BEGIN
					CALL LpProc.FmNumberOne () ;
				END
				
			IF S.RESULT.FIX.CID = "\@N_TAG_FM_NUMBER2_ID" THEN ! FM2
				BEGIN
					CALL LpProc.FmNumberTwo () ;
				END
				
			IF S.RESULT.FIX.CID = "\@N_TAG_AM_ID" THEN
				BEGIN
					CALL LpProc.Am () ;
				END
				
			IF S.RESULT.FIX.CID = "\@N_TAG_AM_FREQUENCY_ID" | S.RESULT.FIX.CID = "\@N_TAG_AM_FREQ_SLOT_ID" THEN
				BEGIN
					CALL LpProc.AmFrequency () ;
				END
				
			IF S.RESULT.FIX.CID = "\@N_TAG_AM_LIST_ID" THEN
				BEGIN
					CALL LpProc.AmList () ;
				END
				
			IF S.RESULT.FIX.CID = "\@N_TAG_DMB_ID" THEN ! DMB
				BEGIN
					CALL LpProc.Dmb () ;
				END
				
			IF S.RESULT.FIX.CID = "\@N_TAG_RADIO_AST_ID" | S.RESULT.FIX.CID = "\@N_TAG_DMB_AST_ID" THEN ! 자동선국, 채널검색
				BEGIN
					CALL LpProc.Ast () ;
				END
				
			IF S.RESULT.FIX.CID = "\@N_TAG_PRESET_NUMBER_ID" THEN ! 저장방송 1
				BEGIN
					CALL LpProc.PresetNumber () ;
				END
				
			IF S.RESULT.FIX.CID = "\@N_TAG_STATION_LIST_ID" THEN ! 방송목록
				BEGIN
					CALL LpProc.StationList () ;
				END
				
			IF S.RESULT.FIX.CID = "\@N_TAG_RADIO_STATION_ID" THEN ! 방송국명(KBS)
				BEGIN
					CALL LpProc.RadioStation () ;
				END
				
			IF S.RESULT.FIX.CID = "\@N_TAG_MANUAL_FM_ID" THEN ! FM (에프엠) <89.1>
				BEGIN
					CALL LpProc.ManualFm () ;
				END
				
			IF S.RESULT.FIX.CID = "\@N_TAG_MANUAL_AM_ID" THEN ! AM (에이엠) <1080>
				BEGIN
					CALL LpProc.ManualAm () ;
				END
				
			IF S.RESULT.FIX.CID = "\@N_TAG_MANUAL_PRESET_ID" THEN ! <1~40>번 방송
				BEGIN
					CALL LpProc.ManualPreset () ;
				END
				
			! REPEAT CONTROL
			CALL Common.RepeatControl () ;
			
			! FEEDBACK PROMPT CONTROL
			CALL Common.FeedbackPromptControl () ;
			
			! ON SCREEN TEXT
			CALL Common.FeedbackOnScreenText () ;
		END
		
	IF $N.STATUS.PROCESS = @N_PROCESS_TRANSITION & $N.STATUS.PROGRAM = @N_FLAG_ON THEN
		BEGIN
			! VR 종료 후, MAINMENU Dialog 진입 시 정상 Prompt 출력을 위하여 초기화
			IF $N.TRANSITION.DIALOG = @N_DIALOG_STOP | $N.TRANSITION.DIALOG = @N_DIALOG_EXIT THEN
				BEGIN
					S.RESULT.FIX.CID := "" ;
				END
		END
EOP

! "라디오" 명령어 처리 프로시저
JINIE LpProc.Radio ()

	IF N.AVN.RADIO.LAST.MODE = 200000 THEN
		BEGIN
			CALL Common.FeedbackBasicSetting () ;
		END
	ELSE
		BEGIN
			S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_2_0_02" ;
			S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_2_0_02" ;
			S.INNER.PROMPT.DISPLY.STR := "" ;
			N.EXIT.ACTION.TRANSITION := 28001 ;
			$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
			$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
			
			IF N.AVN.RADIO.LAST.MODE = 1 THEN ! FM
				BEGIN
					S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_2_0_02" ;
					S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_2_0_02" ;
					S.INNER.PROMPT.DISPLY.STR := "" ;
					N.EXIT.ACTION.TRANSITION := 28001 ;
					$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
					$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
				END
				
			IF N.AVN.RADIO.LAST.MODE = 2 THEN ! FM 1
				BEGIN
					S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_2_0_03" ;
					S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_2_0_03" ;
					S.INNER.PROMPT.DISPLY.STR := "" ;
					N.EXIT.ACTION.TRANSITION := 28001 ;
					$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
					$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
				END
				
			IF N.AVN.RADIO.LAST.MODE = 3 THEN ! FM 2
				BEGIN
					S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_2_0_04" ;
					S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_2_0_04" ;
					S.INNER.PROMPT.DISPLY.STR := "" ;
					N.EXIT.ACTION.TRANSITION := 28001 ;
					$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
					$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
				END
				
			IF N.AVN.RADIO.LAST.MODE = 4 THEN ! AM
				BEGIN
					S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_2_0_06" ;
					S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_2_0_06" ;
					S.INNER.PROMPT.DISPLY.STR := "" ;
					N.EXIT.ACTION.TRANSITION := 28001 ;
					$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
					$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
				END
		END
EOP

! "에프엠" 명령어 처리 프로시저
JINIE LpProc.Fm ()

	S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_2_0_02" ;
	S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_2_0_02" ;
	S.INNER.PROMPT.DISPLY.STR := "" ;
	N.EXIT.ACTION.TRANSITION := 1002 ;
	$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
	$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
EOP

! "에프엠 원" 명령어 처리 프로시저
JINIE LpProc.FmNumberOne ()

	S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_2_0_03" ;
	S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_2_0_03" ;
	S.INNER.PROMPT.DISPLY.STR := "" ;
	N.EXIT.ACTION.TRANSITION := 1002 ;
	$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
	$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
EOP

! "에프엠 투" 명령어 처리 프로시저
JINIE LpProc.FmNumberTwo ()

	S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_2_0_04" ;
	S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_2_0_04" ;
	S.INNER.PROMPT.DISPLY.STR := "" ;
	N.EXIT.ACTION.TRANSITION := 1002 ;
	$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
	$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
EOP

! "에프엠 <Fm_Freq>", "에이엠 <Am_Freq>", "<Fm_Freq>", "<Am_Freq>" 명령어 ID를 실제 주파수 변환 처리 프로시저
JINIE LpProc.FrequencySlot ()

	TEMPORARY NUMBER N.TEMP.FREQ := 1 ;
	TEMPORARY STRING S.TEMP.FREQ := "" ; ! FREQUENCY ID SAVED (STRING)
	TEMPORARY NUMBER N.TEMP.SPEC := 0 ; ! FREQUENCY ID SAVED (NUMBER)
	TEMPORARY STRING S.TEMP.FIRST := "" ; ! FM FRONT FREQUENCY
	TEMPORARY STRING S.TEMP.SECOND := "" ; ! FM REAR FREQUENCY
	TEMPORARY STRING S.TEMP.RESULT := "" ; ! FM FREQUENCY NUMBER RESULT
	
	IF $S.RESULT.ID[1][1] = "\@N_TAG_FM_FREQUENCY_ID" | $S.RESULT.ID[1][1] = "\@N_TAG_AM_FREQUENCY_ID" THEN ! FM 89.5 or AM 900
		BEGIN
			S.TEMP.FREQ := $S.RESULT.ID[1][2] ; ! Command ID : 8950 ("FM 89.5"), 900 ("AM 900")
		END
	ELSE  ! 89.5 FM or 900 AM (현재 미지원)
		BEGIN
			S.TEMP.FREQ := $S.RESULT.ID[1][1];
		END
		
	N.TEMP.SPEC ~= S.TEMP.FREQ ;
	
	IF N.TEMP.SPEC > 8000 THEN ! FM : 8950
		BEGIN
			S.TEMP.FIRST ~= ( N.TEMP.SPEC / 100 ) ; ! 89
			S.TEMP.SECOND ~= ( N.TEMP.SPEC / 10 % 10 ) ; ! 5
			S.TEMP.RESULT := S.TEMP.FIRST + "." + S.TEMP.SECOND ; ! 89.5
			S.SLOT.RESULT := S.TEMP.RESULT ; ! FREQUENCY NUMBER RESULT
		END
	ELSE ! AM : 900
		BEGIN
			S.SLOT.RESULT := S.TEMP.FREQ ; ! FREQUENCY NUMBER RESULT
		END
EOP

! "에프엠 <Fm_Freq>", "<Fm_Freq>", 명령어 처리 프로시저
JINIE LpProc.FmFrequency ()

	S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_2_0_01_A" + " " + S.SLOT.RESULT + ", " + "\@S_DIALOG_PROMPT_LID_K4_2_0_01_B" ;
	S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_2_0_01" + " " + S.SLOT.RESULT ;
	S.INNER.PROMPT.DISPLY.STR := "" ;
	N.EXIT.ACTION.TRANSITION := 1004 ;
	$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
	$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
EOP

! "에이엠" 명령어 처리 프로시저
JINIE LpProc.Am ()

	S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_2_0_06" ;
	S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_2_0_06" ;
	S.INNER.PROMPT.DISPLY.STR := "" ;
	N.EXIT.ACTION.TRANSITION := 4003 ;
	$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
	$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
EOP

! "에이엠 <Am_Freq>", "<Am_Freq>" 명령어 처리 프로시저
JINIE LpProc.AmFrequency ()

	S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_2_0_05_A" + " " + S.SLOT.RESULT + ", " + "\@S_DIALOG_PROMPT_LID_K4_2_0_05_B" ;
	S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_2_0_05" + " " + S.SLOT.RESULT ;
	S.INNER.PROMPT.DISPLY.STR := "" ;
	N.EXIT.ACTION.TRANSITION := 4005 ;
	$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
	$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
EOP

! "디앰비" 명령어 처리 프로시저
JINIE LpProc.Dmb ()

	IF N.AVN.DMB.AUTO.SEARCH = 200000 THEN
		BEGIN
			CALL Common.FeedbackBasicSetting () ;
		END
	ELSE
		BEGIN
			IF N.AVN.DMB.AUTO.SEARCH = 1 THEN
				BEGIN
					S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_4_0_02" ;
					S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_4_0_02" ;
					S.INNER.PROMPT.DISPLY.STR := "" ;
					N.EXIT.ACTION.TRANSITION := 7020 ;
					$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
					$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
				END
			ELSE
				BEGIN
					S.INNER.SCREEN.STRING := "\@S_SCREEN_DMB_SELECT" ;
					S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_4_0_01" ;
					S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_4_0_01" ;
					S.INNER.PROMPT.DISPLY.STR := "\@S_SCREEN_PROMPT_LID_4_4_0_01" ;
					$N.TRANSITION.DIALOG := @N_DIALOG_MAINMENU_SELECT ;
				END
		END
EOP

! "자동 선국" or "채널 검색" 명령어 처리 프로시저
JINIE LpProc.Ast ()

	IF N.AV.CONDITION = 200000 | N.GLOBAL.CONDITION = 200000 | N.AVN.MODE = 200000 THEN
		BEGIN
			CALL Common.FeedbackBasicSetting () ;
		END
	ELSE
		BEGIN
			IF N.AV.CONDITION = 0 THEN
				BEGIN
					S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K1_14_04" ;
					S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S1_14_04" ;
					S.INNER.PROMPT.DISPLY.STR := "" ;
					$N.TRANSITION.DIALOG := @N_DIALOG_REPEAT ;
				END
			ELSE
				BEGIN
					IF N.VENDER.FM.NUMBER = 0 THEN ! 통합형
						BEGIN
							IF N.GLOBAL.CONDITION = 1 THEN
								BEGIN
									IF N.AVN.MODE = 1 | N.AVN.MODE = 2 | N.AVN.MODE = 3 | N.AVN.MODE = 4 THEN ! FM = 1,2,3
										BEGIN
											S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K1_14_03" ;
											S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S1_14_03" ;
											S.INNER.PROMPT.DISPLY.STR := "" ;
											$N.TRANSITION.DIALOG := @N_DIALOG_REPEAT ;
										END
									IF N.AVN.MODE = 7 THEN ! DMB
										BEGIN
											S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_4_1_02" ;
											S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_4_1_02" ;
											S.INNER.PROMPT.DISPLY.STR := "" ;
											N.EXIT.ACTION.TRANSITION := 7021 ;
											$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
											$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
										END
								END
							ELSE
								BEGIN
									S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K1_14_03" ;
									S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S1_14_03" ;
									S.INNER.PROMPT.DISPLY.STR := "" ;
									$N.TRANSITION.DIALOG := @N_DIALOG_REPEAT ;
								END
						END
					ELSE ! N.VENDER.FM.NUMBER = 1 : 분리형
						BEGIN	
							IF N.GLOBAL.CONDITION = 1 THEN
								BEGIN
									S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K1_14_03" ;
									S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S1_14_03" ;
									S.INNER.PROMPT.DISPLY.STR := "" ;
									$N.TRANSITION.DIALOG := @N_DIALOG_REPEAT ;
											
									IF N.AVN.MODE = 1 | N.AVN.MODE = 2 | N.AVN.MODE = 3 | N.AVN.MODE = 4 THEN ! FM, FM1, FM2, AM
										BEGIN
											IF $N.STATUS.DIALOG = @N_DIALOG_MAINMENU | $N.STATUS.DIALOG = @N_DIALOG_MAINMENU_HELP_RADIO THEN
												BEGIN
													S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_2_1_02" ;
													S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_2_1_02" ;
													S.INNER.PROMPT.DISPLY.STR := "" ;
													N.EXIT.ACTION.TRANSITION := 28002 ;
													$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
													$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
												END
										END
										
									IF N.AVN.MODE = 7 THEN
										BEGIN
											IF $N.STATUS.DIALOG = @N_DIALOG_MAINMENU | $N.STATUS.DIALOG = @N_DIALOG_MAINMENU_HELP_DMB THEN
												BEGIN
													S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_2_1_02" ;
													S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_2_1_02" ;
													S.INNER.PROMPT.DISPLY.STR := "" ;
													N.EXIT.ACTION.TRANSITION := 7021 ;
													$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
													$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
												END
										END
								END
							ELSE
								BEGIN
									S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K1_14_03" ;
									S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S1_14_03" ;
									S.INNER.PROMPT.DISPLY.STR := "" ;
									$N.TRANSITION.DIALOG := @N_DIALOG_REPEAT ;
								END
						END
				END
		END
EOP

! "프리셋 <number>" 명령어 처리 프로시저
JINIE LpProc.PresetNumber ()

	! FEEDBACK & TRANSITION
	IF N.AV.CONDITION = 200000 | N.GLOBAL.CONDITION = 200000 | N.AVN.PRESET.STORED.AVAILABLE = 200000 | N.AVN.PRESET.STATE = 200000 | N.AVN.SELECT.SLOT = 200000 | S.AVN.SELECT.SLOT = "200000" THEN
		BEGIN
			CALL Common.FeedbackBasicSetting () ;
		END
	ELSE
		BEGIN
			IF N.AV.CONDITION = 0 THEN
				BEGIN
					S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K1_14_04" ;
					S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S1_14_04" ;
					S.INNER.PROMPT.DISPLY.STR := "" ;
					$N.TRANSITION.DIALOG := @N_DIALOG_REPEAT ;
				END
			ELSE
				BEGIN
					IF N.GLOBAL.CONDITION = 1 THEN
						BEGIN
							IF N.AVN.PRESET.STORED.AVAILABLE = 0 THEN
								BEGIN
									S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_2_1_24" ;
									S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_2_1_24" ;
									S.INNER.PROMPT.DISPLY.STR := "\@S_SCREEN_PROMPT_LID_4_2_1_01" ;
									$N.TRANSITION.DIALOG := @N_DIALOG_NO_RECOG_EXIT ;
								END
							ELSE ! N.AVN.PRESET.STORED.AVAILABLE = 1
								BEGIN
									IF N.AVN.PRESET.STATE = 1 THEN
										BEGIN
											IF N.AVN.SELECT.SLOT = 1 | N.AVN.SELECT.SLOT = 2 | N.AVN.SELECT.SLOT = 3 THEN ! FM, FM1, FM2
												BEGIN
													S.INNER.PROMPT.KINDLY.STR := S.SLOT.FIRST.VALUE + "\@S_DIALOG_PROMPT_LID_K4_2_1_03_A" + ", " + S.AVN.SELECT.SLOT + "\@S_DIALOG_PROMPT_LID_K4_2_1_03_B" ;
													S.INNER.PROMPT.SIMPLY.STR := S.SLOT.FIRST.VALUE + "\@S_DIALOG_PROMPT_LID_S4_2_1_03" + ", " + S.AVN.SELECT.SLOT ;
													S.INNER.PROMPT.DISPLY.STR := "" ;
													N.EXIT.ACTION.TRANSITION := 1003 ;
												END
											ELSE
												BEGIN
													IF N.AVN.SELECT.SLOT = 4 THEN ! AM
														BEGIN
															S.INNER.PROMPT.KINDLY.STR := S.SLOT.FIRST.VALUE + "\@S_DIALOG_PROMPT_LID_K4_2_1_03_A" + ", " + S.AVN.SELECT.SLOT + "\@S_DIALOG_PROMPT_LID_K4_2_1_03_B" ;
															S.INNER.PROMPT.SIMPLY.STR := S.SLOT.FIRST.VALUE + "\@S_DIALOG_PROMPT_LID_S4_2_1_03" + ", " + S.AVN.SELECT.SLOT ;
															S.INNER.PROMPT.DISPLY.STR := "" ;
															N.EXIT.ACTION.TRANSITION := 4004 ;
														END
													ELSE
														BEGIN ! ETC
															S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_2_1_24" ;
															S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_2_1_24" ;
															S.INNER.PROMPT.DISPLY.STR := "" ;
														END
												END
											$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
											$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
										END
									ELSE
										BEGIN
											S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K1_14_01" ;
											S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S1_14_01" ;
											S.INNER.PROMPT.DISPLY.STR := "" ;
											
											IF $N.STATUS.DIALOG = @N_DIALOG_MAINMENU_RADIO_PRESET THEN
												BEGIN
													$N.TRANSITION.DIALOG := @N_DIALOG_REPEAT ;
												END
											ELSE
												BEGIN
													$N.TRANSITION.DIALOG := @N_DIALOG_MAINMENU_RADIO_PRESET ;
												END
										END
								END
						END
					ELSE
						BEGIN
							S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K1_14_03" ;
							S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S1_14_03" ;
							S.INNER.PROMPT.DISPLY.STR := "" ;
							$N.TRANSITION.DIALOG := @N_DIALOG_REPEAT ;
						END
				END
		END
EOP

! "방송 목록" 명령어 처리 프로시저
JINIE LpProc.StationList ()

	IF N.AV.CONDITION = 200000 | N.GLOBAL.CONDITION = 200000 | N.AVN.MODE = 200000 | N.AVN.DMB.AUTO.SEARCH = 200000 THEN
		BEGIN
			CALL Common.FeedbackBasicSetting () ;
		END
	ELSE
		BEGIN
			IF N.AV.CONDITION = 0 THEN
				BEGIN
					S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K1_14_04" ;
					S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S1_14_04" ;
					S.INNER.PROMPT.DISPLY.STR := "" ;
					$N.TRANSITION.DIALOG := @N_DIALOG_REPEAT ;
				END
			ELSE
				BEGIN
					IF N.GLOBAL.CONDITION = 1 THEN
						BEGIN
							IF N.AVN.MODE = 7 THEN ! DMB
								BEGIN
									IF N.AVN.DMB.AUTO.SEARCH = 1 THEN
										BEGIN
											S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_4_1_03" ;
											S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_4_1_03" ;
											S.INNER.PROMPT.DISPLY.STR := "" ;
											N.EXIT.ACTION.TRANSITION := 7022 ;
											$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
											$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
										END
									ELSE
										BEGIN
											S.INNER.SCREEN.STRING := "\@S_SCREEN_STATION_LIST_SELECT" ;
											S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_4_1_01" ;
											S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_4_1_01" ;
											S.INNER.PROMPT.DISPLY.STR := "\@S_SCREEN_PROMPT_LID_4_4_1_01" ;
											$N.TRANSITION.DIALOG := @N_DIALOG_MAINMENU_SELECT ; 
										END
								END
							ELSE
								BEGIN
									S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K1_14_03" ;
									S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S1_14_03" ;
									S.INNER.PROMPT.DISPLY.STR := "" ;
									$N.TRANSITION.DIALOG := @N_DIALOG_REPEAT ;
								END
						END
					ELSE
						BEGIN
							S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K1_14_03" ;
							S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S1_14_03" ;
							S.INNER.PROMPT.DISPLY.STR := "" ;
							$N.TRANSITION.DIALOG := @N_DIALOG_REPEAT ;
						END
				END
		END
EOP

! "<방송국명>" 명령어 처리 프로시저
JINIE LpProc.RadioStation ()

	IF N.AVN.MODE = 200000 | N.AVN.SEARCH.RESULT.NUM = 200000 | S.AVN.SELECT.STATION.SLOT = "200000" THEN
		BEGIN
			CALL Common.FeedbackBasicSetting () ;
		END
	ELSE
		BEGIN
			IF N.AVN.SEARCH.RESULT.NUM > 1 THEN
				BEGIN
					S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_6_0_04" ;
					S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_6_0_04" ;
					S.INNER.PROMPT.DISPLY.STR := "" ;
					$N.TRANSITION.DIALOG := @N_DIALOG_AV_BROADCAST_LIST ;
				END
			ELSE
				BEGIN
					IF N.AVN.SEARCH.RESULT.NUM = 0 THEN
						BEGIN
							S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_6_0_06" ;
							S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_6_0_06" ;
							S.INNER.PROMPT.DISPLY.STR := "\@S_SCREEN_PROMPT_LID_4_6_0_01" ;
							$N.TRANSITION.DIALOG := @N_DIALOG_NO_RECOG_EXIT ;
						END
					ELSE
						BEGIN
							S.INNER.PROMPT.KINDLY.STR := S.AVN.SELECT.STATION.SLOT[1][1] + " " + "\@S_DIALOG_PROMPT_LID_K4_6_0_02" ;
							S.INNER.PROMPT.SIMPLY.STR := S.AVN.SELECT.STATION.SLOT[1][1] ;
							S.INNER.PROMPT.DISPLY.STR := "" ;
							N.EXIT.ACTION.TRANSITION := 7023 ;
							
							IF S.AVN.SELECT.STATION.SLOT[1][2] = "FM" THEN ! FM
								BEGIN
									S.INNER.PROMPT.KINDLY.STR := S.AVN.SELECT.STATION.SLOT[1][1] + " " + "\@S_DIALOG_PROMPT_LID_K4_6_0_02" ;
									S.INNER.PROMPT.SIMPLY.STR := S.AVN.SELECT.STATION.SLOT[1][1] ;
									S.INNER.PROMPT.DISPLY.STR := "" ;
									N.EXIT.ACTION.TRANSITION := 7024 ;
								END
							IF S.AVN.SELECT.STATION.SLOT[1][2] = "AM" THEN ! AM
								BEGIN
									S.INNER.PROMPT.KINDLY.STR := S.AVN.SELECT.STATION.SLOT[1][1] + " " + "\@S_DIALOG_PROMPT_LID_K4_6_0_03" ;
									S.INNER.PROMPT.SIMPLY.STR := S.AVN.SELECT.STATION.SLOT[1][1] ;
									S.INNER.PROMPT.DISPLY.STR := "" ;
									N.EXIT.ACTION.TRANSITION := 7025 ;
								END
							IF S.AVN.SELECT.STATION.SLOT[1][2] = "DMB" THEN ! DMB
								BEGIN
									S.INNER.PROMPT.KINDLY.STR := S.AVN.SELECT.STATION.SLOT[1][1] + " " + "\@S_DIALOG_PROMPT_LID_K4_4_1_04" ;
									S.INNER.PROMPT.SIMPLY.STR := S.AVN.SELECT.STATION.SLOT[1][1] ;
									S.INNER.PROMPT.DISPLY.STR := "" ;
									N.EXIT.ACTION.TRANSITION := 7023 ;
								END
								
							$N.CONTROL.PROCESS.FEEDBACK := @N_FLAG_ON ;
							$N.TRANSITION.DIALOG := @N_DIALOG_STOP ;
						END
				END
		END
EOP

! 방송국명 화면에서의 "에프엠" 명령어 처리 프로시저
JINIE LpProc.FmList ()

	IF N.AVN.FMLIST.AVAILABLE = 200000 THEN
		BEGIN
			CALL Common.FeedbackBasicSetting () ;
		END
	ELSE
		BEGIN
			IF N.AVN.FMLIST.AVAILABLE = 1 THEN
				BEGIN
					S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_6_0_05" ;
					S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_6_0_05" ;
					S.INNER.PROMPT.DISPLY.STR := "" ;
					$N.TRANSITION.DIALOG := @N_DIALOG_REPEAT ;
				END
			ELSE
				BEGIN
					S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_6_1_03" ;
					S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_6_1_03" ;
					S.INNER.PROMPT.DISPLY.STR := "" ;
					$N.TRANSITION.DIALOG := @N_DIALOG_REPEAT ;
				END
		END
EOP

! 방송국명 화면에서의 "에이엠" 명령어 처리 프로시저
JINIE LpProc.AmList ()

	IF N.AVN.AMLIST.AVAILABLE = 200000 THEN
		BEGIN
			CALL Common.FeedbackBasicSetting () ;
		END
	ELSE
		BEGIN
			IF N.AVN.AMLIST.AVAILABLE = 1 THEN
				BEGIN
					S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_6_0_05" ;
					S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_6_0_05" ;
					S.INNER.PROMPT.DISPLY.STR := "" ;
					$N.TRANSITION.DIALOG := @N_DIALOG_REPEAT ;
				END
			ELSE
				BEGIN
					S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_6_1_01" ;
					S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_6_1_01" ;
					S.INNER.PROMPT.DISPLY.STR := "" ;
					$N.TRANSITION.DIALOG := @N_DIALOG_REPEAT ;
				END
		END
EOP

! [FM(에프엠) <89.1>] 버튼 처리 프로시저
JINIE LpProc.ManualFm ()

	S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_6_2_01" ;
	S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_6_2_01" ;
	S.INNER.PROMPT.DISPLY.STR := "\@S_SCREEN_PROMPT_LID_4_7_1_01" ;
	$N.TRANSITION.DIALOG := @N_DIALOG_MAINMENU_FM_FREQUENCY ;
EOP

! [AM(에이엠) <1080>] 버튼 처리 프로시저
JINIE LpProc.ManualAm ()

	S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_6_2_02" ;
	S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_6_2_02" ;
	S.INNER.PROMPT.DISPLY.STR := "\@S_SCREEN_PROMPT_LID_4_7_1_03" ;
	$N.TRANSITION.DIALOG := @N_DIALOG_MAINMENU_AM_FREQUENCY ;
EOP

! [<1~12>번 방송] 버튼 처리 프로시저
JINIE LpProc.ManualPreset ()

	IF N.AVN.PRESET.STORED.AVAILABLE = 200000 THEN
		BEGIN
			CALL Common.FeedbackBasicSetting () ;
		END
	ELSE
		BEGIN
			IF N.AVN.PRESET.STORED.AVAILABLE = 0 THEN
				BEGIN
					S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_2_1_24" ;
					S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_2_1_24" ;
					S.INNER.PROMPT.DISPLY.STR := "\@S_SCREEN_PROMPT_LID_4_2_1_01" ;
					$N.TRANSITION.DIALOG := @N_DIALOG_NO_RECOG_EXIT ;
				END
			ELSE
				BEGIN
					S.INNER.PROMPT.KINDLY.STR := "\@S_DIALOG_PROMPT_LID_K4_7_2_01" ;
					S.INNER.PROMPT.SIMPLY.STR := "\@S_DIALOG_PROMPT_LID_S4_7_2_01" ;
					S.INNER.PROMPT.DISPLY.STR := "" ;
					$N.TRANSITION.DIALOG := @N_DIALOG_MAINMENU_RADIO_PRESET ;
				END
		END
EOP